---
title: Set up Assurance
description: Learn how to implement the Assurance extension in a mobile app.
feature: Mobile SDK,Assurance
hide: yes
exl-id: 49d608e7-e9c4-4bc8-8a8a-5195f8e2ba42
---
# Set up Assurance

Learn how to set up Adobe Experience Platform Assurance in a mobile app.

Assurance, formally known as Project Griffon, is designed to help you inspect, proof, simulate, and validate how you collect data or serve experiences in your mobile app.

Assurance helps you inspect raw SDK events generated by the Adobe Experience Platform Mobile SDK. All events collected by the SDK are available for inspection. SDK events are loaded in a list view, sorted by time. Each event has a detailed view that provides further detail. Additional views to browse SDK configuration, data elements, Shared States, and SDK extension versions are also provided. Learn more about the [Assurance](https://experienceleague.adobe.com/docs/experience-platform/assurance/home.html) in the product documentation.


## Prerequisites

* Successfully set up the app with SDKs installed and configured.

## Learning objectives

In this lesson, you will:

* Confirm that your organization has access (and request it if you don't).
* Set up your base URL.
* Add required iOS specific code.
* Connect to a session.

## Confirm access

Confirm that your organization has access to Assurance. You, as user, should be added to profile for Adobe Experience Platform. See [User access](https://experienceleague.adobe.com/docs/experience-platform/assurance/user-access.html?lang=en) in the Assurance guide for more information.

## Implement

In addition to the general [SDK installation](install-sdks.md), you completed in the earlier lesson, iOS also requires the following addition to start the Assurance session for your app. 

1. Navigate to **[!DNL Luma]** > **[!DNL Luma]** > **[!UICONTROL SceneDelegate]** in your Xcode's Project navigator.
 
1. Add the following code to `func scene(_ scene: UIScene, openURLContexts URLContexts: Set<UIOpenURLContext>`:

   ```swift
   // Called when the app in background is opened with a deep link.
   if let deepLinkURL = URLContexts.first?.url {
       // Start the Assurance session
       Assurance.startSession(url: deepLinkURL)
   }
   ```

    This code starts an assurance session when the app is in the background and openend using a deep link.

More information can be found [here](https://developer.adobe.com/client-sdks/documentation/platform-assurance-sdk/api-reference/){target="_blank"}.

<!-- not initially required

## Signing

Signing the application is only required for the [Create and send push notifications](journey-optimizer-push.md) and the [Create and send in-app messages](journey-optimizer-inapp.md) lessons in this tutorial. These lessons require an Apple provisioning profile which **requires a paid Apple developer account**.

To update the signing for the lessons that require that you sign the application:

1. Open the project in Xcode.
1. Select **[!DNL Luma]** in the Project navigator.
1. Select the **[!DNL Luma]** target.
1. Select the **Signing & Capabilities** tab.
1. Configure **[!UICONTROL Automatic manage signing]**, **[!UICONTROL Team]**, and **[!UICONTROL Bundle Identifier]**, or use your specific Apple development provisioning details. 
 
   >[!IMPORTANT]
   >
   >Ensure you use a _unique_ bundle identifier and replace the `com.adobe.luma.tutorial.swiftui` bundle identifier, as each bundle identifier needs to be unique. Typically, you use a reverse-DNS format for bundle ID strings, like `com.organization.brand.uniqueidentifier`. The Finished version of this tutorial, for example, uses `com.adobe.luma.tutorial.swiftui`.


    ![Xcode signing capabilities](assets/xcode-signing-capabilities.png){zoomable="yes"}

-->

## Set up a base URL

1. Go to your project in Xcode.
1. Select **[!DNL Luma]** in the Project navigator.
1. Select the **[!DNL Luma]** target.
1. Select the **Info** tab.
1. To add a base URL, scroll down to **URL Types** and select the **+** button.
1. Set **Identifier** to the Bundle Identifier of your choice and set a **URL Schemes** of your choice .

   ![assurance url](assets/assurance-url-type.png)

   >[!IMPORTANT]
   >
   >Ensure you use a _unique_ bundle identifier and replace the `com.adobe.luma.tutorial.swiftui` bundle identifier, as each bundle identifier needs to be unique. Typically, you use a reverse-DNS format for bundle ID strings, like `com.organization.brand.uniqueidentifier`.<br/>Similarly, use a unique URL scheme, and replace the already provided `lumatutorialswiftui` with your unique URL scheme.

To learn more about URL Schemes in iOS, review [Apple's documentation](https://developer.apple.com/documentation/xcode/defining-a-custom-url-scheme-for-your-app){target="_blank"}.

Assurance works by opening a URL, either via browser or QR code. That URL begins with the base URL  which opens the app and contains additional parameters. Those unique parameters are used to connect the session.


## Connecting to a session

In Xcode: 

1. Build or rebuild and run the app in the simulator or on a physical device from Xcode, using ![Play](https://spectrum.adobe.com/static/icons/workflow_18/Smock_Play_18_N.svg).
   
1. In the **[!UICONTROL Allow "Luma App" to to use your location]** dialog, select **[!UICONTROL Allow While Using App]**.
 
   <img src="assets/geolocation-permissions.png" width=300>

1. In the **[!UICONTROL "Luma App" Would Like to Send You Notifications]** dialog, select **[!UICONTROL Allow]**.
 
   <img src="assets/notification-permissions.png" width=300>

1. Select **[!UICONTROL Continueâ€¦]** to allow the app to track your activity.
 
   <img src="assets/tracking-continue.png" width=300>

1. In the **[!UICONTROL Allow "Luma App" to track your activity across other companies' app and websites]** dialog, select **[!UICONTROL Allow]**.
 
   <img src="assets/tracking-allow.png" width=300>


In your browser:

1. Go to the Data Collection UI.
1. Select **[!UICONTROL Assurance]** from the left rail.
1. Select **[!UICONTROL Create Session]**.
1. Select **[!UICONTROL Start]**.
1. Provide a **[!UICONTROL Session Name]** such as `Luma Mobile App Session` and the **[!UICONTROL Base URL]**, which is the URL Schemes you entered in Xcode, followed by `://` For example: `lumatutorialswiftui://`
1. Select **[!UICONTROL Next]**.
    ![assurance create session](assets/assurance-create-session.png)
1. In the **[!UICONTROL Create New Session]** modal dialog:
   
   If you're using a physical device: 

   * Select **[!UICONTROL Scan QR Code]**. Use your camera on your physical device to scan the QR code and tap the link to open the app.

     ![assurance qa code](assets/assurance-qr-code.png)

   If you are using a simulator:

   1. Select **[!UICONTROL Copy Link]**.
   1. Copy the deep link using ![Copy](https://spectrum.adobe.com/static/icons/workflow_18/Smock_Copy_18_N.svg)  and use the deep link to open the app with Safari in the simulator.
     ![Assurance copy link](assets/assurance-copy-link.png)
    
1. When the app loads, you are presented with a modal dialog asking you to enter the PIN shown in step 7.
   
   <img src="assets/assurance-enter-pin.png" width=300>

   Enter the PIN and select **[!UICONTROL Connect]**.


1. If the connection was successful, you see:
    * An Assurance icon floating on top of your app.
      
       <img src="assets/assurance-modal.png" width=300>
    
    * Experience Cloud updates coming through in the Assurance UI, showing:

      1. Experience Events coming from the app.
      1. Details of a selected event.
      1. The device and timeline.

         ![assurance events](assets/assurance-events.png)

If you run into any challenges, please review the [technical](https://developer.adobe.com/client-sdks/documentation/platform-assurance-sdk/){target="_blank"} and [general documentation](https://experienceleague.adobe.com/docs/experience-platform/assurance/home.html){target="_blank"}.


## Verify extensions

To verify whether your app is using the most up-to-date extensions:

1. Select **[!UICONTROL Configure]**.

1. Select ![Add](https://spectrum.adobe.com/static/icons/workflow_18/Smock_AddCircle_18_N.svg) for ![123](https://spectrum.adobe.com/static/icons/workflow_18/Smock_123_18_N.svg) **[!UICONTROL Extension Versions]**.

1. Select **[!UICONTROL Save]**.

   ![Configure extension versions](assets/assurance-configure-extension-versions.png)

1. Select ![123](https://spectrum.adobe.com/static/icons/workflow_18/Smock_123_18_N.svg) **[!UICONTROL Extension Versions]**. You will see an overview of the latest extensions available and the extensions used in your version of the app.

   ![Extension versions](assets/assurance-extension-versions.png)

1. To update your extension versions (for example **[!UICONTROL Messaging]** and **[!UICONTROL Optimize]**), in Xcode, for the specific extensions that needs an upgrade, select the package (extension) from **[!UICONTROL Package Dependencies]** (e.g. **[!UICONTROL AEPMessaging]**) and from the context menu select **[!UICONTROL Update Package]**. Xcode will update the package dependencies.


>[!NOTE]
>
>When you have updated your extensions (packages) in Xcode, you need to close and delete your current session and repeat all steps from [Connecting to a session](#connecting-to-a-session) and [Verify extensions](#verify-extensions) to ensure Assurance properly reports the correct extensions in a new Assurance session.





>[!SUCCESS]
>
>You have now set up your app to use Assurance for the remainder of the tutorial.<br/>Thank you for investing your time in learning about Adobe Experience Platform Mobile SDK. If you have questions, want to share general feedback, or have suggestions on future content, please share them on this [Experience League Community discussion post](https://experienceleaguecommunities.adobe.com/t5/adobe-experience-platform-launch/tutorial-discussion-implement-adobe-experience-cloud-in-mobile/td-p/443796)


Next: **[Implement Consent](consent.md)**
